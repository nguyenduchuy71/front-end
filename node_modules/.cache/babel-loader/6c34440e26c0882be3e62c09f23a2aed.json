{"ast":null,"code":"var _jsxFileName = \"E:\\\\front-end\\\\src\\\\screens\\\\UpdateCourseScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport './AddCourseScreen.css';\nimport Button from '@material-ui/core/Button';\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { logout } from \".././features/userSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UpdateCourseScreen(props) {\n  _s();\n\n  const [course, setCourse] = useState();\n  const [loading, setLoading] = useState(false);\n  const [url, setUrl] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [source, setSource] = useState(\"\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const updatecourse = async () => {\n    const data = {\n      \"id\": props.match.params.id,\n      \"title\": title,\n      \"id_video\": url,\n      \"description\": desc,\n      \"src\": source\n    };\n    await axios.put(\"/course/\", data).then(res => {\n      if (res.status === 200) {\n        alert('Cập nhật khóa học thành công');\n        history.push('/admin/course');\n      }\n    }).catch(error => {\n      alert(error);\n    });\n  };\n\n  useEffect(() => {\n    axios.get(\"/account/check-login/\", {\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        axios.get(\"/course/\").then(res => {\n          if (res.status === 200) {\n            setCourse(res.data.find(x => x.id === parseInt(props.match.params.id)));\n            setLoading(true);\n          }\n        }).catch(error => {\n          alert(error);\n        });\n\n        if (loading) {\n          setUrl(course.id_video);\n          setTitle(course.title);\n          setDesc(course.description);\n          setSource(course.src);\n        }\n      }\n    }).catch(error => {\n      dispatch(logout());\n      history.push('/signin');\n    });\n  }, [loading]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list_input row\",\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      placeholder: \"Url kh\\xF3a h\\u1ECDc\",\n      margin: \"normal\",\n      className: \"col-lg-6\",\n      value: url,\n      onChange: e => setUrl(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      placeholder: \"T\\xEAn kh\\xF3a h\\u1ECDc\",\n      margin: \"normal\",\n      className: \"col-lg-6\",\n      value: title,\n      onChange: e => setTitle(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      placeholder: \"M\\xF4 t\\u1EA3 kh\\xF3a h\\u1ECDc\",\n      margin: \"normal\",\n      className: \"col-lg-6\",\n      value: desc,\n      onChange: e => setDesc(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      placeholder: \"Ngu\\u1ED3n kh\\xF3a h\\u1ECDc\",\n      margin: \"normal\",\n      value: source,\n      className: \"col-lg-6\",\n      onChange: e => setSource(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn_content\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: updatecourse,\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"C\\u1EACP NH\\u1EACT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UpdateCourseScreen, \"lm8fl8YRstqD2KF+/vcg6bJd/Z0=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = UpdateCourseScreen;\nexport default UpdateCourseScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateCourseScreen\");","map":{"version":3,"sources":["E:/front-end/src/screens/UpdateCourseScreen.js"],"names":["React","useState","useEffect","TextField","Button","useHistory","axios","logout","useDispatch","UpdateCourseScreen","props","course","setCourse","loading","setLoading","url","setUrl","title","setTitle","desc","setDesc","source","setSource","history","dispatch","updatecourse","data","match","params","id","put","then","res","status","alert","push","catch","error","get","headers","Authorization","localStorage","getItem","find","x","parseInt","id_video","description","src","e","target","value"],"mappings":"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","sourcesContent":["import React,{ useState,useEffect} from 'react'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport './AddCourseScreen.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { logout } from \".././features/userSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nfunction UpdateCourseScreen(props) {\r\n    const [course, setCourse] = useState();\r\n    const [loading,setLoading]=useState(false);\r\n    const [url, setUrl] = useState(\"\");\r\n    const [title, setTitle] = useState(\"\");\r\n    const [desc, setDesc] = useState(\"\");\r\n    const [source, setSource] = useState(\"\");\r\n    const history= useHistory();\r\n    const dispatch = useDispatch();\r\n    const updatecourse= async ()=>{\r\n        const data={\r\n            \"id\": props.match.params.id,\r\n            \"title\": title,\r\n            \"id_video\":url,\r\n            \"description\":desc,\r\n            \"src\": source,\r\n        };\r\n        await axios.put(\"/course/\", data).then((res) => {\r\n        if(res.status===200){\r\n            alert('Cập nhật khóa học thành công');\r\n            history.push('/admin/course');\r\n        }\r\n        }).catch((error) => {alert(error)});\r\n  }\r\n  useEffect(() => {\r\n    axios.get(\"/account/check-login/\", {headers:{Authorization: 'Bearer '+localStorage.getItem('token')}} )\r\n    .then((res) => {\r\n      if(res.status===200){\r\n        axios.get(\"/course/\").then((res) => {\r\n            if(res.status===200){\r\n              setCourse(res.data.find((x) => x.id === parseInt(props.match.params.id)));\r\n              setLoading(true);\r\n            }\r\n        }).catch((error) => {alert(error)});\r\n        if(loading){\r\n            setUrl(course.id_video);\r\n            setTitle(course.title);\r\n            setDesc(course.description);\r\n            setSource(course.src);\r\n        }\r\n      }\r\n    }).catch((error) => { dispatch(logout()); history.push('/signin')});\r\n    \r\n  },[loading]);\r\n  return (\r\n        <div className=\"list_input row\">\r\n          <TextField\r\n              placeholder=\"Url khóa học\"\r\n              margin=\"normal\"\r\n              className=\"col-lg-6\"\r\n              value={url}\r\n              onChange={e=>setUrl(e.target.value)}\r\n            />\r\n         <TextField\r\n          placeholder=\"Tên khóa học\"\r\n          margin=\"normal\"\r\n          className=\"col-lg-6\"\r\n          value={title}\r\n          onChange={e=>setTitle(e.target.value)}\r\n        />\r\n         <TextField\r\n          placeholder=\"Mô tả khóa học\"\r\n          margin=\"normal\"\r\n          className=\"col-lg-6\"\r\n          value={desc}\r\n          onChange={e=>setDesc(e.target.value)}\r\n        />\r\n         <TextField\r\n          placeholder=\"Nguồn khóa học\"\r\n          margin=\"normal\"\r\n          value={source}\r\n          className=\"col-lg-6\"\r\n          onChange={e=>setSource(e.target.value)}\r\n        />\r\n        <div className=\"btn_content\">\r\n          <Button onClick={updatecourse} variant=\"contained\" color=\"primary\">\r\n            CẬP NHẬT\r\n          </Button>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UpdateCourseScreen"]},"metadata":{},"sourceType":"module"}