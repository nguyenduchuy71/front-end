{"ast":null,"code":"var _jsxFileName = \"E:\\\\front-end\\\\src\\\\screens\\\\ForumDetailScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./ForumDetailScreen.css\";\nimport PersonOutlineIcon from \"@material-ui/icons/PersonOutline\";\nimport DateRangeIcon from \"@material-ui/icons/DateRange\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../features/userSlice\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ForumDetailScreen(props) {\n  _s();\n\n  const [cmt, setCmt] = useState();\n  const user = useSelector(selectUser);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [responses, setResponses] = useState([]);\n  const [input, setInput] = useState(\"\");\n\n  const submitHandle = async () => {\n    /*     if (user) {\r\n      if(input!==\"\"){\r\n        const data ={\r\n          \"id_post\":cmt.id,\r\n          \"content\":input,\r\n          \"date\":Date().toLocaleString()\r\n        }\r\n        await axios.post(\"/forum/comment/\", data, {headers:{Authorization: 'Bearer '+localStorage.getItem('token')}})\r\n        .then((res) => {\r\n          if(res.status===200){\r\n            setResponses([...responses,res.data]);\r\n            setInput(\"\");\r\n          }\r\n        }).catch((error) => {console.log(error)});\r\n      }\r\n      else{\r\n        alert(\"Bạn chưa nhập thông tin\");\r\n      }\r\n    }  */\n  };\n\n  useEffect(() => {\n    /*     axios.get(\"/account/check-login/\", {headers:{Authorization: 'Bearer '+localStorage.getItem('token')}} )\r\n    .then((res) => {\r\n      if(res.status===200){\r\n        axios.get(\"/forum/\", {headers:{Authorization: 'Bearer '+localStorage.getItem('token')}} )\r\n        .then((res) => {\r\n          if(res.status===200){\r\n            const rs=res.data.find(item => item.id=== parseInt(props.match.params.id))\r\n            setCmt(rs);\r\n            setResponses(rs.comment);\r\n          }\r\n        }).catch((error) => console.log(error.message));\r\n      }\r\n    }).catch((error) => { dispatch(logout()); history.push('/signin')}); */\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"forumdetail\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forum__detail__content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list__info__author\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"item__author content_title\",\n          children: cmt === null || cmt === void 0 ? void 0 : cmt.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list__infor__content item__author\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"infor__content username\",\n            children: [/*#__PURE__*/_jsxDEV(PersonOutlineIcon, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"name__author\",\n              children: cmt === null || cmt === void 0 ? void 0 : cmt.user\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"infor__content postdate\",\n            children: [/*#__PURE__*/_jsxDEV(DateRangeIcon, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"date__post\",\n              children: cmt === null || cmt === void 0 ? void 0 : cmt.date.split(\"T\")[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list__responde\",\n        children: responses.map(res => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item__responde row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"left col-lg-3 col-md-2 col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"avartar__author__responde\",\n                src: user === null || user === void 0 ? void 0 : user.avatar,\n                alt: \"img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"center col-lg-6 col-md-8 col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text__author__responde\",\n                children: res.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"right col-lg-3 col-md-2 col-sm-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"time__author__responde\",\n                children: res.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"bnt__reply\",\n                variant: \"contained\",\n                size: \"small\",\n                color: \"secondary\",\n                onClick: () => {\n                  setInput(`@:${res.user} `);\n                },\n                children: \"Reply\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)]\n          }, res.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row post_comment\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          value: input,\n          id: \"cmt__post\",\n          placeholder: \"Nh\\u1EADp b\\xECnh lu\\u1EADn\",\n          variant: \"outlined\",\n          size: \"small\",\n          className: \"col-lg-8 col-md-6 col-sm-12 input__cmt__post\",\n          onChange: e => setInput(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-lg-1 col-md-12 col-sm-12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"col-lg-1 col-md-6 col-sm-12 btn__post__cmt\",\n          variant: \"contained\",\n          size: \"small\",\n          color: \"primary\",\n          onClick: submitHandle,\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ForumDetailScreen, \"ReF0j1osK1HtOmYnWNPE8Ti1UiA=\", false, function () {\n  return [useSelector, useHistory, useDispatch];\n});\n\n_c = ForumDetailScreen;\nexport default ForumDetailScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ForumDetailScreen\");","map":{"version":3,"sources":["E:/front-end/src/screens/ForumDetailScreen.js"],"names":["React","useState","useEffect","PersonOutlineIcon","DateRangeIcon","Button","TextField","useSelector","selectUser","useHistory","axios","useDispatch","ForumDetailScreen","props","cmt","setCmt","user","history","dispatch","responses","setResponses","input","setInput","submitHandle","title","date","split","map","res","avatar","content","id","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./ForumDetailScreen.css\";\r\nimport PersonOutlineIcon from \"@material-ui/icons/PersonOutline\";\r\nimport DateRangeIcon from \"@material-ui/icons/DateRange\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../features/userSlice\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nfunction ForumDetailScreen(props) {\r\n  const [cmt, setCmt] = useState();\r\n  const user = useSelector(selectUser);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [responses, setResponses] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const submitHandle = async () => {\r\n    /*     if (user) {\r\n      if(input!==\"\"){\r\n        const data ={\r\n          \"id_post\":cmt.id,\r\n          \"content\":input,\r\n          \"date\":Date().toLocaleString()\r\n        }\r\n        await axios.post(\"/forum/comment/\", data, {headers:{Authorization: 'Bearer '+localStorage.getItem('token')}})\r\n        .then((res) => {\r\n          if(res.status===200){\r\n            setResponses([...responses,res.data]);\r\n            setInput(\"\");\r\n          }\r\n        }).catch((error) => {console.log(error)});\r\n      }\r\n      else{\r\n        alert(\"Bạn chưa nhập thông tin\");\r\n      }\r\n    }  */\r\n  };\r\n  useEffect(() => {\r\n    /*     axios.get(\"/account/check-login/\", {headers:{Authorization: 'Bearer '+localStorage.getItem('token')}} )\r\n    .then((res) => {\r\n      if(res.status===200){\r\n        axios.get(\"/forum/\", {headers:{Authorization: 'Bearer '+localStorage.getItem('token')}} )\r\n        .then((res) => {\r\n          if(res.status===200){\r\n            const rs=res.data.find(item => item.id=== parseInt(props.match.params.id))\r\n            setCmt(rs);\r\n            setResponses(rs.comment);\r\n          }\r\n        }).catch((error) => console.log(error.message));\r\n      }\r\n    }).catch((error) => { dispatch(logout()); history.push('/signin')}); */\r\n  }, []);\r\n  return (\r\n    <div className=\"forumdetail\">\r\n      <div className=\"forum__detail__content\">\r\n        <div className=\"list__info__author\">\r\n          <p className=\"item__author content_title\">{cmt?.title}</p>\r\n          <ul className=\"list__infor__content item__author\">\r\n            <li className=\"infor__content username\">\r\n              <PersonOutlineIcon className=\"icon\"></PersonOutlineIcon>\r\n              <span className=\"name__author\">{cmt?.user}</span>\r\n            </li>\r\n            <li className=\"infor__content postdate\">\r\n              <DateRangeIcon className=\"icon\"></DateRangeIcon>\r\n              <span className=\"date__post\">{cmt?.date.split(\"T\")[0]}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"list__responde\">\r\n          {responses.map((res) => {\r\n            return (\r\n              <div key={res.id} className=\"item__responde row\">\r\n                <div className=\"left col-lg-3 col-md-2 col-sm-12\">\r\n                  <img\r\n                    className=\"avartar__author__responde\"\r\n                    src={user?.avatar}\r\n                    alt=\"img\"\r\n                  />\r\n                </div>\r\n                <div className=\"center col-lg-6 col-md-8 col-sm-12\">\r\n                  <p className=\"text__author__responde\">{res.content}</p>\r\n                </div>\r\n                <div className=\"right col-lg-3 col-md-2 col-sm-12\">\r\n                  <span className=\"time__author__responde\">{res.date}</span>\r\n                  <Button\r\n                    className=\"bnt__reply\"\r\n                    variant=\"contained\"\r\n                    size=\"small\"\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                      setInput(`@:${res.user} `);\r\n                    }}\r\n                  >\r\n                    Reply\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"row post_comment\">\r\n          <TextField\r\n            fullWidth\r\n            value={input}\r\n            id=\"cmt__post\"\r\n            placeholder=\"Nhập bình luận\"\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            className=\"col-lg-8 col-md-6 col-sm-12 input__cmt__post\"\r\n            onChange={(e) => setInput(e.target.value)}\r\n          />\r\n          <span className=\"col-lg-1 col-md-12 col-sm-12\"></span>\r\n          <Button\r\n            className=\"col-lg-1 col-md-6 col-sm-12 btn__post__cmt\"\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            onClick={submitHandle}\r\n          >\r\n            Post\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForumDetailScreen;\r\n"]},"metadata":{},"sourceType":"module"}